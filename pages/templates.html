<form>
    <div class="form-group form-group-box">
        <textarea data-ng-class="{requiredField:templateTaskCtrl.templateNameRequired}" rows="1" id="templateName" name="templateName"
                  data-ng-model="templateTaskCtrl.templateName" placeholder="Template Name" required
                  style="font-weight:600;vertical-align: bottom;"></textarea>
    </div>

    <div class="form-group">
        <ui-select data-ng-model="templateTaskCtrl.selectedWorkspace.selected"
                   on-select="templateTaskCtrl.onWorkspaceSelect($item, $model)">
            <ui-select-match placeholder="Select Workspace">
                <span data-ng-bind="$select.selected.name"></span>
            </ui-select-match>
            <ui-select-choices repeat="workspace in templateTaskCtrl.workspaces | orderBy: 'name' | filter: {name: $select.search}" position="down">
                <div class="overflow-ellipsis">
                    <span data-ng-bind="workspace.name"></span>
                </div>
            </ui-select-choices>
        </ui-select>
    </div>

    <div class="form-group multi-select">
        <ui-select multiple tagging="templateTaskCtrl.projectTaggingHandler" data-ng-class="{requiredField:templateTaskCtrl.projectRequired}" data-ng-model="templateTaskCtrl.selectedProject.list"
                   data-ng-disabled="templateTaskCtrl.workspaceNotSelected" on-select="templateTaskCtrl.onProjectSelected($item, $model)">
            <ui-select-match placeholder="Select Project(s)" style="padding-left: 5px;">
                {{$item.name}}
            </ui-select-match>
            <ui-select-choices repeat="project in templateTaskCtrl.projects | orderBy:'name' | filter: {name: $select.search}" position="down">
                <div class="overflow-ellipsis">
                    <span data-ng-class="{'archived-project':project.archived}" data-ng-bind="project.name" title="{{project.notes}}"></span>
                    <span data-ng-bind="project.prompt"></span>
                    <i class="fa fa-lock private-project" data-ng-hide="project.public" title="Private to me"></i>
                </div>
            </ui-select-choices>
        </ui-select>
    </div>

    <div class="form-group">
        <ui-select data-ng-model="templateTaskCtrl.selectedUser.selected"
                   data-ng-disabled="templateTaskCtrl.workspaceNotSelected">
            <ui-select-match allow-clear="true" placeholder="Select Assignee">
                <img class="img-circle profile-img profile-img-sm"
                     data-ng-src="{{$select.selected.photo.image_21x21}}"
                     src="../img/nopicture.png">
                <span data-ng-bind="$select.selected.name"></span>
            </ui-select-match>
            <ui-select-choices repeat="user in templateTaskCtrl.users | orderBy:'name' | propertyFilter: {name: $select.search, email: $select.search}" position="down">
                <div class="overflow-ellipsis">
                    <img class="img-circle profile-img profile-img-sm"
                         data-ng-src="{{user.photo.image_36x36}}"
                         src="../img/nopicture.png">
                    <span data-ng-bind="user.name" class="font-size-12"></span>
                    <span data-ng-bind="user.email" class="font-size-10"></span>
                </div>
            </ui-select-choices>
        </ui-select>
    </div>

    <div class="form-group multi-select">
        <ui-select multiple tagging="templateTaskCtrl.tagHandler"  data-ng-model="templateTaskCtrl.selectedTags.list"
                   data-ng-disabled="templateTaskCtrl.workspaceNotSelected" on-select="templateTaskCtrl.createNewTag($item, $model)">
            <ui-select-match placeholder="Select Tag(s)" style="padding-left: 5px;">
                <i class="fa fa-tag"></i> {{$item.name}}
            </ui-select-match>
            <ui-select-choices repeat="tag in templateTaskCtrl.tags | orderBy:'name' | filter: {name: $select.search}" position="down">
                <div class="overflow-ellipsis" title="{{tag.notes}}">
                    <i class="fa fa-tag"></i>
                    <span data-ng-bind="tag.name"></span>
                    <span data-ng-bind="tag.prompt"></span>
                </div>
            </ui-select-choices>
        </ui-select>
    </div>

    <div class="form-group multi-select">
        <ui-select multiple data-ng-model="templateTaskCtrl.selectedFollowers.list"
                   data-ng-disabled="templateTaskCtrl.workspaceNotSelected">
            <ui-select-match placeholder="Select Follower(s)" style="padding-left: 5px;">
                <img class="img-circle profile-img profile-img-xs" data-ng-src="{{$item.photo.image_36x36}}" data-ng-attr-title="{{$item.name}}">
                <span data-ng-bind="$item.name | nameInitials" data-ng-attr-title="{{$item.name}}"></span>
            </ui-select-match>
            <ui-select-choices repeat="follower in templateTaskCtrl.users | orderBy:'name' | propertyFilter: {name: $select.search, email: $select.search}">
                <div class="overflow-ellipsis">
                    <img class="img-circle profile-img profile-img-sm"
                         data-ng-src="{{follower.photo.image_36x36}}"
                         src="../img/nopicture.png">
                    <span data-ng-bind="follower.name" class="font-size-12"></span>
                    <span data-ng-bind="follower.email" class="font-size-10"></span>
                </div>
            </ui-select-choices>
        </ui-select>
    </div>

    <div class="form-group">
        <button type="button" class="btn btn-sm btn-asana"
                data-ng-click="templateTaskCtrl.saveTemplate()">Create Template</button>
        <span class="status label" data-ng-show="templateTaskCtrl.templateSaveStatus.show"
              data-ng-class="templateTaskCtrl.templateSaveStatus.success?'label-success':'label-danger'"
              data-ng-bind="templateTaskCtrl.templateSaveStatus.message">
        </span>
    </div>
</form>